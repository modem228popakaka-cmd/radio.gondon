<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Мій плейлист</title>
</head>
<body>
  <audio id="player" controls autoplay muted></audio>

  <script>
    const playlist = [
      "music/1.mp3","music/2.mp3","music/3.mp3","music/4.mp3",
      "music/5.mp3","music/6.mp3","music/7.mp3","music/8.mp3",
      "music/9.mp3","music/10.mp3","music/11.mp3","music/12.mp3",
      "music/13.mp3","music/14.mp3","music/15.mp3","music/16.mp3",
      "music/17.mp3","music/18.mp3","music/19.mp3","music/20.mp3",
      "music/21.mp3","music/22.mp3","music/23.mp3","music/24.mp3",
      "music/25.mp3","music/26.mp3","music/27.mp3","music/28.mp3",
      "music/29.mp3","music/30.mp3","music/31.mp3","music/32.mp3",
      "music/33.mp3","music/34.mp3","music/35.mp3","music/36.mp3",
      "music/37.mp3","music/38.mp3","music/39.mp3","music/40.mp3",
      "music/41.mp3","music/42.mp3"
    ];

    let current = 0;
    const audio = document.getElementById("player");

    function playTrack(index) {
      audio.src = playlist[index];
      audio.load();
      audio.play().catch(err => {
        console.log("Автоплей заблоковано:", err);
      });
    }

    // Стартуємо перший трек у muted режимі
    playTrack(current);

    // Розблокування звуку на будь-яку взаємодію з документом
    function unlockAudio() {
      audio.muted = false;
      document.removeEventListener("mousemove", unlockAudio);
      document.removeEventListener("keydown", unlockAudio);
      document.removeEventListener("touchstart", unlockAudio);
    }

    document.addEventListener("mousemove", unlockAudio);
    document.addEventListener("keydown", unlockAudio);
    document.addEventListener("touchstart", unlockAudio);

    // Коли трек закінчився → наступний
    audio.addEventListener("ended", () => {
      current++;
      if (current < playlist.length) {
        playTrack(current);
      } else {
        console.log("Плейлист закінчився");
      }
    });
  </script>
</body>
</html>

