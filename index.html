<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>ğŸ¶ ĞœÑ–Ğ¹ WebRadio</title>
</head>
<body>
<h1>ğŸ¶ ĞœÑ–Ğ¹ WebRadio</h1>

<audio id="player" controls autoplay></audio>
<select id="playlist"></select>

<script>
const tracks = [
"music/1.mp3",
"music/2.mp3",
"music/3.mp3",
"music/4.mp3",
"music/5.mp3",
"music/6.mp3",
"music/7.mp3",
"music/8.mp3",
"music/9.mp3",
"music/10.mp3",
"music/11.mp3",
"music/12.mp3",
"music/13.mp3",
"music/14.mp3",
"music/15.mp3",
"music/16.mp3",
"music/17.mp3",
"music/18.mp3",
"music/19.mp3",
"music/20.mp3",
"music/21.mp3",
"music/22.mp3",
"music/23.mp3",
"music/24.mp3",
"music/25.mp3",
"music/26.mp3",
"music/27.mp3",
"music/28.mp3",
"music/29.mp3",
"music/30.mp3",
"music/31.mp3",
"music/32.mp3",
"music/33.mp3",
"music/34.mp3",
"music/35.mp3",
"music/36.mp3",
"music/37.mp3",
"music/38.mp3",
"music/39.mp3",
"music/40.mp3",
"music/41.mp3",
"music/42.mp3"
];


const player = document.getElementById('player');
const playlist = document.getElementById('playlist');
let current = 0;

// Ğ¡Ñ‚Ğ²Ğ¾Ñ€ÑÑ”Ğ¼Ğ¾ ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ‚Ñ€ĞµĞºÑ–Ğ² Ñƒ select
tracks.forEach((track, i) => {
    const option = document.createElement('option');
    option.value = i;
    option.textContent = track.split('/').pop();
    playlist.appendChild(option);
});

// Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒÑ”Ğ¼Ğ¾ Ñ‚Ñ€ĞµĞº
function loadTrack(index) {
    current = index;
    player.src = tracks[index];
    player.play().catch(() => console.log("Autoplay Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¾Ğ²Ğ°Ğ½Ğ¾"));
    playlist.value = index;
}

// ĞŸĞ¾Ğ´Ñ–Ñ—
playlist.addEventListener('change', () => loadTrack(parseInt(playlist.value)));
player.addEventListener('ended', () => {
    let next = (current + 1) % tracks.length;
    loadTrack(next);
});

// ĞĞ²Ñ‚Ğ¾Ğ¿Ğ»ĞµĞ¹ Ğ¿ĞµÑ€ÑˆĞ¾Ğ³Ğ¾ Ñ‚Ñ€ĞµĞºÑƒ
window.addEventListener('load', () => loadTrack(0));
</script>
</body>
</html>
